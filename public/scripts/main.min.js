"use strict";RKO.APP=function(e){var o={};return o.bind=function(){$(document).on("click","#plusone-checkbox",function(e){$(e.target).is(":checked")?($("#plusone-checkbox-result").val("Yes"),$("#plusone-input").show()):($("#plusone-checkbox-result").val("No"),$("#plusone-input").hide())}),$("#rsvp-form").submit(function(e){var o=$(this).attr("action");$.ajax({type:"POST",url:o,data:$(this).serialize(),success:function(e){console.log("RSVP result:",e)}}),e.preventDefault()})},o.isCharacterKeyPress=function(e){return"undefined"==typeof e.which||"number"==typeof e.which&&e.which>0&&(!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which)},o.init=function(){$("#secretword-input").keydown(function(e){$("#login-error-msg").removeClass("show")}),$(document).keydown(function(e){console.log("doc keydown event"),$("body").hasClass("introMode")&&o.isCharacterKeyPress(e)&&27!==e.keyCode&&($("body").removeClass().addClass("passwordMode"),$("#secretword-input").focus(),console.log("Into password mode, leaving introMode")),$("body").hasClass("passwordMode")&&27===e.keyCode&&($("body").removeClass().addClass("introMode"),$("#secretword-input").val(""),console.log("Into introMode, leaving passwordMode"))}),$("#auth").mousemove(function(e){var o=this.clientWidth/2,t=this.clientHeight/2,s=o-(event.pageX-this.offsetLeft),n=t-(event.pageY-this.offsetTop),a=n/t*13+"deg",r=s/o*-13+"deg",i=(e.pageX*-1/2+o/2)/8,c=(e.pageY*-1/2+t/2)/8;$("#parallax-auth").css("transform","perspective(3000px) translate3d("+i/2+"px, "+c/2+"px, -20px) rotateX("+a+") rotateY("+r+")"),$(".lock-icon").css("transform","perspective(600px) translate3d("+-i/6+"px, "+-c/6+"px, 0) rotateX("+a+") rotateY("+r+")"),$(".logo").css("transform","translate3d("+-i/10+"px, "+-c/10+"px, 0) rotateX("+a+") rotateY("+r+")")}),$("#login-form").submit(function(e){var t=$(this).attr("action");$.ajax({type:"POST",url:t,data:$(this).serialize(),success:function(e){var e=$.parseJSON(e);"success"===e.result?($("#main").html(e.html),o.bind(),$("body").removeClass().addClass("invitationMode"),$(document).unbind("keydown")):$("#login-error-msg").addClass("show")}}),e.preventDefault()})},o}(window);