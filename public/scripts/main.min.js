RKO.UTILS=function(e){var i={};return i.convertToTwoDigits=function(e){return e<10?"0"+e:e},i.isCharacterKeyPress=function(e){return"undefined"==typeof e.which||"number"==typeof e.which&&e.which>0&&(!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which)},i}(window),RKO.PARALLAX_FACTORY=function(e){var i={amountMovedX:void 0,amountMovedY:void 0,degX:void 0,degY:void 0};return i.onMove=function(e,o,n){var t=e.clientWidth/2,a=e.clientHeight/2,r=t-(o.pageX-e.offsetLeft),s=a-(o.pageY-e.offsetTop);i.degX=s/a*n+"deg",i.degY=r/t*-n+"deg",i.amountMovedX=(o.pageX*-1/2+t/2)/8,i.amountMovedY=(o.pageY*-1/2+a/2)/8},i}(window),RKO.COUNTDOWN=function(e){var i={},o=RKO.UTILS;return i.initCountdownClock=function(e){var o=setInterval(function(){var n=i.getTimeRemaining(e);$("#invitation .days").html(n.days),$("#invitation .hours").html(n.hours),$("#invitation .mins").html(n.minutes),$("#invitation .secs").html(n.seconds),n.total<=0&&clearInterval(o)},1e3)},i.getTimeRemaining=function(e){var i=Date.parse(e)-Date.parse(new Date),n=Math.floor(i/1e3%60),t=Math.floor(i/1e3/60%60),a=Math.floor(i/36e5%24),r=Math.floor(i/864e5);return{total:i,days:o.convertToTwoDigits(r),hours:o.convertToTwoDigits(a),minutes:o.convertToTwoDigits(t),seconds:o.convertToTwoDigits(n)}},i}(window),RKO.CORE=function(e){var i={swiper:void 0,swiperGallery:void 0,krizaTimeline:void 0,swiperLock:void 0},o=RKO.COUNTDOWN;return i.bind=function(){var e=$("#plusone-checkbox-result"),n=$("#plusone-input");$(document).on("click","#plusone-checkbox",function(i){$(i.target).is(":checked")?(e.val("Yes"),n.removeClass("hidden")):(e.val("No"),n.addClass("hidden"))}),$("#rsvp-form").submit(function(e){var i=$(this).attr("action");$.ajax({type:"POST",url:i,data:$(this).serialize(),success:function(e){console.log("RSVP result:",e)}}),e.preventDefault()}),$(".gallery-movingUp-area").hover(function(){i.krizaTimeline.reverse(),i.krizaTimeline.timeScale(14)},function(){i.krizaTimeline.stop(),i.krizaTimeline.timeScale(1)}),$(".gallery-movingDown-area").hover(function(){i.krizaTimeline.play(),i.krizaTimeline.timeScale(14)},function(){i.krizaTimeline.stop(),i.krizaTimeline.timeScale(1)}),$(".gallery-movingUp-area").mousedown(function(){i.krizaTimeline.timeScale(60),console.log("hit")}),$(".gallery-movingUp-area").mouseup(function(){i.krizaTimeline.timeScale(14),console.log("hit")}),$(".gallery-movingDown-area").mousedown(function(){i.krizaTimeline.timeScale(60),console.log("hit")}),$(".gallery-movingDown-area").mouseup(function(){i.krizaTimeline.timeScale(14),console.log("hit")}),i.swiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",direction:"vertical",slidesPerView:1,paginationClickable:!0,spaceBetween:0,mousewheelControl:!0,keyboardControl:!0,simulateTouch:!1,mousewheelForceToAxis:!0,mousewheelInvert:!0,mousewheelSensitivity:.5,onSlideChangeStart:function(e){1===e.activeIndex?$(".swiper-pagination").addClass("light-mode"):$(".swiper-pagination").hasClass("light-mode")&&$(".swiper-pagination").removeClass("light-mode"),3===e.activeIndex?"undefined"==typeof i.krizaTimeline?(i.krizaTimeline=new TimelineLite,i.krizaTimeline.to($(".gallery-scroller"),300,{y:"-100%"}),i.krizaTimeline.stop()):(i.krizaTimeline.restart(),i.krizaTimeline.stop()):($(".kriza-gallery-container .gallery-scroller").removeAttr("style"),"undefined"!=typeof i.krizaTimeline&&(i.krizaTimeline.stop(),i.krizaTimeline.restart())),e.disableMousewheelControl()},onSlideChangeEnd:function(e){2===e.activeIndex?("undefined"==typeof i.swiperGallery&&(i.swiperGallery=new Swiper(".swiper-container-gallery",{pagination:".swiper-pagination-gallery",direction:"horizontal",slidesPerView:1,effect:"fade",paginationClickable:!0,spaceBetween:0,simulateTouch:!1,keyboardControl:!0,mousewheelControl:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0})),$(".swiper-pagination").addClass("transparent-mode")):$(".swiper-pagination").hasClass("transparent-mode")&&$(".swiper-pagination").removeClass("transparent-mode"),i.swiperLock=setTimeout(function(){e.enableMousewheelControl()},400)}}),$(".gallery-movingDown-area").on("click",function(){}),$("#landing").mousemove(function(e){var i=this.clientWidth/2,o=this.clientHeight/2,n=(i-(event.pageX-this.offsetLeft),o-(event.pageY-this.offsetTop),(e.pageX*-1/2+i/2)/8),t=(e.pageY*-1/2+o/2)/8;$("#parallax-landing").css("transform","translate3d("+n/2+"px, "+t/2+"px, -200px)"),$("#landing .km-logo").css("transform","perspective(200px) translate3d("+-n/12+"px, "+-t/12+"px, 0)")}),o.initCountdownClock("2017-06-23")},i}(window),RKO.LOCK=function(e){var i={},o=RKO.UTILS,n=RKO.CORE;return i.bind=function(){$("#secretword-input").keydown(function(e){$("#login-error-msg").removeClass("show")}),$(document).keydown(function(e){$("body").hasClass("introMode")&&o.isCharacterKeyPress(e)&&27!==e.keyCode&&($("body").removeClass().addClass("passwordMode"),$("#secretword-input").focus(),console.log("Into password mode, leaving introMode")),$("body").hasClass("passwordMode")&&27===e.keyCode&&($("body").removeClass().addClass("introMode"),$("#secretword-input").val(""),console.log("Into introMode, leaving passwordMode"))}),$("#login-form").submit(function(e){var i=$(this).attr("action");$.ajax({type:"POST",url:i,data:$(this).serialize(),success:function(e){var e=$.parseJSON(e);"success"===e.result?($("#main").html(e.html),n.bind(),$("body").removeClass().addClass("invitationMode"),$(document).unbind("keydown")):$("#login-error-msg").addClass("show")}}),e.preventDefault()})},i.init=function(){i.bind()},i}(window),RKO.APP=function(e){var i={},o=RKO.LOCK,n=RKO.PARALLAX_FACTORY;return i.init=function(){o.init(),$("#auth").mousemove(function(e){n.onMove(this,e,5),$("#parallax-auth").css("transform","perspective(1000px) translate3d("+n.amountMovedX/2+"px, "+n.amountMovedY/2+"px, -20px)"),$(".lock-icon").css("transform","perspective(40px) translate3d("+-n.amountMovedX/4+"px, "+-n.amountMovedY/4+"px, 0) rotateX("+n.degX+") rotateY("+n.degY+")"),$(".logo").css("transform","perspective(500px) translate3d("+-n.amountMovedX/8+"px, "+-n.amountMovedY/8+"px, 0) rotateX("+n.degX+") rotateY("+n.degY+")")})},i}(window);