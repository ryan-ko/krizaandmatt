"use strict";RKO.APP=function(e){var i={swiper:void 0,swiperGallery:void 0,krizaTimeline:void 0};return i.bind=function(){var e=$("#plusone-checkbox-result"),n=$("#plusone-input");$(document).on("click","#plusone-checkbox",function(i){$(i.target).is(":checked")?(e.val("Yes"),n.removeClass("hidden")):(e.val("No"),n.addClass("hidden"))}),$("#rsvp-form").submit(function(e){var i=$(this).attr("action");$.ajax({type:"POST",url:i,data:$(this).serialize(),success:function(e){console.log("RSVP result:",e)}}),e.preventDefault()}),$("#main").keydown(function(e){console.log(e)}),$(".gallery-movingUp-area").hover(function(){i.krizaTimeline.reverse(),i.krizaTimeline.timeScale(14)},function(){i.krizaTimeline.stop(),i.krizaTimeline.timeScale(1)}),$(".gallery-movingDown-area").hover(function(){i.krizaTimeline.play(),i.krizaTimeline.timeScale(14)},function(){i.krizaTimeline.stop(),i.krizaTimeline.timeScale(1)}),$(".gallery-movingUp-area").mousedown(function(){i.krizaTimeline.timeScale(60),console.log("hit")}),$(".gallery-movingUp-area").mouseup(function(){i.krizaTimeline.timeScale(14),console.log("hit")}),$(".gallery-movingDown-area").mousedown(function(){i.krizaTimeline.timeScale(60),console.log("hit")}),$(".gallery-movingDown-area").mouseup(function(){i.krizaTimeline.timeScale(14),console.log("hit")}),i.swiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",direction:"vertical",slidesPerView:1,paginationClickable:!0,spaceBetween:0,mousewheelControl:!0,keyboardControl:!0,simulateTouch:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0,mousewheelSensitivity:.01,onSlideChangeStart:function(e){1===e.activeIndex?$(".swiper-pagination").addClass("light-mode"):$(".swiper-pagination").hasClass("light-mode")&&$(".swiper-pagination").removeClass("light-mode"),3===e.activeIndex?"undefined"==typeof i.krizaTimeline?(i.krizaTimeline=new TimelineLite,i.krizaTimeline.to($(".gallery-scroller"),300,{y:"-100%"}),i.krizaTimeline.stop()):(i.krizaTimeline.restart(),i.krizaTimeline.stop()):($(".kriza-gallery-container .gallery-scroller").removeAttr("style"),"undefined"!=typeof i.krizaTimeline&&(i.krizaTimeline.stop(),i.krizaTimeline.restart()))},onSlideChangeEnd:function(e){2===e.activeIndex?("undefined"==typeof i.swiperGallery&&(i.swiperGallery=new Swiper(".swiper-container-gallery",{pagination:".swiper-pagination-gallery",direction:"horizontal",slidesPerView:1,effect:"fade",paginationClickable:!0,spaceBetween:0,simulateTouch:!1,keyboardControl:!0,mousewheelControl:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0})),$(".swiper-pagination").addClass("transparent-mode")):$(".swiper-pagination").hasClass("transparent-mode")&&$(".swiper-pagination").removeClass("transparent-mode")}}),$(".gallery-movingDown-area").on("click",function(){}),$("#landing").mousemove(function(e){var i=this.clientWidth/2,n=this.clientHeight/2,o=(i-(event.pageX-this.offsetLeft),n-(event.pageY-this.offsetTop),(e.pageX*-1/2+i/2)/8),t=(e.pageY*-1/2+n/2)/8;$("#parallax-landing").css("transform","translate3d("+o/2+"px, "+t/2+"px, -200px)"),$("#landing .km-logo").css("transform","perspective(200px) translate3d("+-o/12+"px, "+-t/12+"px, 0)")}),i.initCountdownClock("2017-06-23")},i.initCountdownClock=function(e){var n=setInterval(function(){var o=i.getTimeRemaining(e);$("#invitation .days").html(o.days),$("#invitation .hours").html(o.hours),$("#invitation .mins").html(o.minutes),$("#invitation .secs").html(o.seconds),o.total<=0&&clearInterval(n)},1e3)},i.getTimeRemaining=function(e){var n=Date.parse(e)-Date.parse(new Date),o=Math.floor(n/1e3%60),t=Math.floor(n/1e3/60%60),a=Math.floor(n/36e5%24),r=Math.floor(n/864e5);return{total:n,days:i.convertToTwoDigits(r),hours:i.convertToTwoDigits(a),minutes:i.convertToTwoDigits(t),seconds:i.convertToTwoDigits(o)}},i.convertToTwoDigits=function(e){return e<10?"0"+e:e},i.isCharacterKeyPress=function(e){return"undefined"==typeof e.which||"number"==typeof e.which&&e.which>0&&(!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which)},i.init=function(){$("#secretword-input").keydown(function(e){$("#login-error-msg").removeClass("show")}),$(document).keydown(function(e){console.log("doc keydown event"),$("body").hasClass("introMode")&&i.isCharacterKeyPress(e)&&27!==e.keyCode&&($("body").removeClass().addClass("passwordMode"),$("#secretword-input").focus(),console.log("Into password mode, leaving introMode")),$("body").hasClass("passwordMode")&&27===e.keyCode&&($("body").removeClass().addClass("introMode"),$("#secretword-input").val(""),console.log("Into introMode, leaving passwordMode"))}),$("#auth").mousemove(function(e){var i=this.clientWidth/2,n=this.clientHeight/2,o=i-(event.pageX-this.offsetLeft),t=n-(event.pageY-this.offsetTop),a=t/n*5+"deg",r=o/i*-5+"deg",s=(e.pageX*-1/2+i/2)/8,l=(e.pageY*-1/2+n/2)/8;$("#parallax-auth").css("transform","perspective(1000px) translate3d("+s/2+"px, "+l/2+"px, -20px)"),$(".lock-icon").css("transform","perspective(40px) translate3d("+-s/4+"px, "+-l/4+"px, 0) rotateX("+a+") rotateY("+r+")"),$(".logo").css("transform","perspective(500px) translate3d("+-s/8+"px, "+-l/8+"px, 0) rotateX("+a+") rotateY("+r+")")}),$("#login-form").submit(function(e){var n=$(this).attr("action");$.ajax({type:"POST",url:n,data:$(this).serialize(),success:function(e){var e=$.parseJSON(e);"success"===e.result?($("#main").html(e.html),i.bind(),$("body").removeClass().addClass("invitationMode"),$(document).unbind("keydown")):$("#login-error-msg").addClass("show")}}),e.preventDefault()})},i}(window);