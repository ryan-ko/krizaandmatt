"use strict";RKO.APP=function(e){var t={};return t.bind=function(){var e=$("#plusone-checkbox-result"),t=$("#plusone-input");$(document).on("click","#plusone-checkbox",function(o){$(o.target).is(":checked")?(e.val("Yes"),t.removeClass("hidden")):(e.val("No"),t.addClass("hidden"))}),$("#rsvp-form").submit(function(e){var t=$(this).attr("action");$.ajax({type:"POST",url:t,data:$(this).serialize(),success:function(e){console.log("RSVP result:",e)}}),e.preventDefault()});var o,s,n,a,i,r,d,l,c,p;new Swiper(".swiper-container",{pagination:".swiper-pagination",direction:"vertical",slidesPerView:1,paginationClickable:!0,spaceBetween:30,mousewheelControl:!0,keyboardControl:!0});$("#landing").mousemove(function(e){o=this.clientWidth/2,s=this.clientHeight/2,n=o-(event.pageX-this.offsetLeft),a=s-(event.pageY-this.offsetTop),d=a/s*20+"deg",l=n/o*-20+"deg",i=a/s*15+"deg",r=n/o*-15+"deg",c=(e.pageX*-1/2+o/2)/8,p=(e.pageY*-1/2+s/2)/8,$("#parallax-landing").css("transform","translate3d("+c/3+"px, "+p/3+"px, -200px)"),$("#landing .km-logo").css("transform","translate3d("+-c/12+"px, "+-p/12+"px, 0) rotateX("+d+") rotateY("+l+")")})},t.isCharacterKeyPress=function(e){return"undefined"==typeof e.which||"number"==typeof e.which&&e.which>0&&(!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which)},t.init=function(){$("#secretword-input").keydown(function(e){$("#login-error-msg").removeClass("show")}),$(document).keydown(function(e){console.log("doc keydown event"),$("body").hasClass("introMode")&&t.isCharacterKeyPress(e)&&27!==e.keyCode&&($("body").removeClass().addClass("passwordMode"),$("#secretword-input").focus(),console.log("Into password mode, leaving introMode")),$("body").hasClass("passwordMode")&&27===e.keyCode&&($("body").removeClass().addClass("introMode"),$("#secretword-input").val(""),console.log("Into introMode, leaving passwordMode"))});var e,o,s,n,a,i,r,d;$("#auth").mousemove(function(t){e=this.clientWidth/2,o=this.clientHeight/2,s=e-(event.pageX-this.offsetLeft),n=o-(event.pageY-this.offsetTop),a=n/o*10+"deg",i=s/e*-10+"deg",r=(t.pageX*-1/2+e/2)/8,d=(t.pageY*-1/2+o/2)/8,$("#parallax-auth").css("transform","translate3d("+r/2+"px, "+d/2+"px, -20px) rotateX("+a+") rotateY("+i+")"),$(".lock-icon").css("transform","translate3d("+-r/6+"px, "+-d/6+"px, 0) rotateX("+a+") rotateY("+i+")"),$(".logo").css("transform","translate3d("+-r/10+"px, "+-d/10+"px, 0) rotateX("+a+") rotateY("+i+")")}),$("#login-form").submit(function(e){var o=$(this).attr("action");$.ajax({type:"POST",url:o,data:$(this).serialize(),success:function(e){var e=$.parseJSON(e);"success"===e.result?($("#main").html(e.html),t.bind(),$("body").removeClass().addClass("invitationMode"),$(document).unbind("keydown")):$("#login-error-msg").addClass("show")}}),e.preventDefault()})},t}(window);