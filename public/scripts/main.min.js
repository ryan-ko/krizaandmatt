"use strict";RKO.APP=function(e){var t={swiper:void 0,swiperGallery:void 0};return t.bind=function(){var e=$("#plusone-checkbox-result"),o=$("#plusone-input");$(document).on("click","#plusone-checkbox",function(t){$(t.target).is(":checked")?(e.val("Yes"),o.removeClass("hidden")):(e.val("No"),o.addClass("hidden"))}),$("#rsvp-form").submit(function(e){var t=$(this).attr("action");$.ajax({type:"POST",url:t,data:$(this).serialize(),success:function(e){console.log("RSVP result:",e)}}),e.preventDefault()}),$("#main").keydown(function(e){console.log(e)}),t.swiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",direction:"vertical",slidesPerView:1,paginationClickable:!0,spaceBetween:0,mousewheelControl:!0,keyboardControl:!0,simulateTouch:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0,longSwipesRatio:1.4,onSlideChangeStart:function(e){1===e.activeIndex?$(".swiper-pagination").addClass("light-mode"):$(".swiper-pagination").hasClass("light-mode")&&$(".swiper-pagination").removeClass("light-mode"),2===e.activeIndex},onSlideChangeEnd:function(e){2===e.activeIndex?("undefined"==typeof t.swiperGallery&&(t.swiperGallery=new Swiper(".swiper-container-gallery",{pagination:".swiper-pagination-gallery",direction:"horizontal",slidesPerView:1,effect:"fade",paginationClickable:!0,spaceBetween:0,simulateTouch:!1,keyboardControl:!0,mousewheelControl:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0})),$(".swiper-pagination").addClass("transparent-mode")):$(".swiper-pagination").hasClass("transparent-mode")&&$(".swiper-pagination").removeClass("transparent-mode")}}),$("#landing").mousemove(function(e){var t=this.clientWidth/2,o=this.clientHeight/2,n=(t-(event.pageX-this.offsetLeft),o-(event.pageY-this.offsetTop),(e.pageX*-1/2+t/2)/8),i=(e.pageY*-1/2+o/2)/8;$("#parallax-landing").css("transform","translate3d("+n/2+"px, "+i/2+"px, -200px)"),$("#landing .km-logo").css("transform","perspective(200px) translate3d("+-n/12+"px, "+-i/12+"px, 0)")}),t.initCountdownClock("2017-06-23")},t.initCountdownClock=function(e){var o=setInterval(function(){var n=t.getTimeRemaining(e);$("#invitation .days").html(n.days),$("#invitation .hours").html(n.hours),$("#invitation .mins").html(n.minutes),$("#invitation .secs").html(n.seconds),n.total<=0&&clearInterval(o)},1e3)},t.getTimeRemaining=function(e){var o=Date.parse(e)-Date.parse(new Date),n=Math.floor(o/1e3%60),i=Math.floor(o/1e3/60%60),s=Math.floor(o/36e5%24),a=Math.floor(o/864e5);return{total:o,days:t.convertToTwoDigits(a),hours:t.convertToTwoDigits(s),minutes:t.convertToTwoDigits(i),seconds:t.convertToTwoDigits(n)}},t.convertToTwoDigits=function(e){return e<10?"0"+e:e},t.isCharacterKeyPress=function(e){return"undefined"==typeof e.which||"number"==typeof e.which&&e.which>0&&(!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which)},t.init=function(){$("#secretword-input").keydown(function(e){$("#login-error-msg").removeClass("show")}),$(document).keydown(function(e){console.log("doc keydown event"),$("body").hasClass("introMode")&&t.isCharacterKeyPress(e)&&27!==e.keyCode&&($("body").removeClass().addClass("passwordMode"),$("#secretword-input").focus(),console.log("Into password mode, leaving introMode")),$("body").hasClass("passwordMode")&&27===e.keyCode&&($("body").removeClass().addClass("introMode"),$("#secretword-input").val(""),console.log("Into introMode, leaving passwordMode"))}),$("#auth").mousemove(function(e){var t=this.clientWidth/2,o=this.clientHeight/2,n=t-(event.pageX-this.offsetLeft),i=o-(event.pageY-this.offsetTop),s=i/o*5+"deg",a=n/t*-5+"deg",r=(e.pageX*-1/2+t/2)/8,l=(e.pageY*-1/2+o/2)/8;$("#parallax-auth").css("transform","perspective(1000px) translate3d("+r/2+"px, "+l/2+"px, -20px)"),$(".lock-icon").css("transform","perspective(40px) translate3d("+-r/4+"px, "+-l/4+"px, 0) rotateX("+s+") rotateY("+a+")"),$(".logo").css("transform","perspective(500px) translate3d("+-r/8+"px, "+-l/8+"px, 0) rotateX("+s+") rotateY("+a+")")}),$("#login-form").submit(function(e){var o=$(this).attr("action");$.ajax({type:"POST",url:o,data:$(this).serialize(),success:function(e){var e=$.parseJSON(e);"success"===e.result?($("#main").html(e.html),t.bind(),$("body").removeClass().addClass("invitationMode"),$(document).unbind("keydown")):$("#login-error-msg").addClass("show")}}),e.preventDefault()})},t}(window);